# ImageLabeler
画像ラベル付け用ツール

## 概要
2枚の対応する画像に対して，同一の矩形に同一のラベルを関連付けるツール

## 目的・機能
(IR画像とRGB画像の)2種類の対応する画像に対して，同じ対象をラベル付けし，CNNを用いて学習・認識させるためのデータセットを作成したい．  
IRとRGB画像はそれぞれ映り方が違うので，同時に並べて確認しながらラベル付けしたい．  
正解ラベルを設定する作業なので，人手でラベルと画像内の範囲を示す矩形を引きたい．  
将来的にラベル数の拡張やデータ数の増加が予想されるので，出力はSQLite形式のデータベースファイルとし，柔軟に追記・参照ができるようにしたい．  

## 前提
### 依存関係
Python2.7で記述  
  
以下のライブラリを使用  
* OpenCV3.2  
* PySide  
* Sqlite3  

### データセットフォルダ構成
データセットのフォルダ構成は以下のようになっていることを前提とする  
```
(ルートディレクトリ)
    ├── (作業ディレクトリ1)
    |   ├── IR
    |   |   ├── 1.jpg
    |   |   ├── 2.jpg
    |   |   ...
    |   |   └── n.jpg
    |   └── RGB
    |       ├── 1.jpg
    |       ├── 2.jpg
    |       ...
    |       └── n.jpg
    ├── (作業ディレクトリ2)
    |   ├── IR
    |   |   ├── 1.jpg
    |   |   ...
    |   └── RGB
    |       ├── 1.jpg
    |       ...
    ...
    └── LabeledImageDatabase.db (存在しない場合は生成)
```

### 画像ファイル
画像ファイルは2枚とも同サイズ・同名のファイルとする．  
画像ファイルはJPEG形式で拡張子は.jpg  
ファイル名は数値のみ(数値としてソートするため)

## 使い方
1. 「ルートフォルダの指定」ボタンでルートディレクトリを指定する
2. 「作業フォルダの指定」ボタンで作業ディレクトリを指定する
3. (必要であれば)作業ディレクトリ下の2種類のディレクトリ名を指定する(画像タイプ1,2)
4. 「読み込み」ボタンを押す
5. 画像が表示されるので，コンボボックスから該当のラベル名を選択し，マウスを使って矩形を引く  
    * 矩形が引けたら「矩形のセーブ」ボタンを押す  
    * 画像内の矩形を消したい場合は「矩形のリセット」ボタンを押す  
    * 次の画像/前の画像に移動したい場合は「Next/Prev」ボタンを押す  　
    * 左側のファイルリストを使用して特定の画像を直接選ぶことも可能  
